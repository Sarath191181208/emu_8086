<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Support for memory, reg addressing for 2 operand instructions | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Sarath191181208.github.io/emu_8086/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Sarath191181208.github.io/emu_8086/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Sarath191181208.github.io/emu_8086/blog/2023/11/1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Support for memory, reg addressing for 2 operand instructions | My Site"><meta data-rh="true" name="description" content="Changes this day :"><meta data-rh="true" property="og:description" content="Changes this day :"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-11-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/Sarath191181208"><link data-rh="true" rel="icon" href="/emu_8086/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Sarath191181208.github.io/emu_8086/blog/2023/11/1"><link data-rh="true" rel="alternate" href="https://Sarath191181208.github.io/emu_8086/blog/2023/11/1" hreflang="en"><link data-rh="true" rel="alternate" href="https://Sarath191181208.github.io/emu_8086/blog/2023/11/1" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/emu_8086/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/emu_8086/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/emu_8086/assets/css/styles.8ace62b7.css">
<link rel="preload" href="/emu_8086/assets/js/runtime~main.f92540bb.js" as="script">
<link rel="preload" href="/emu_8086/assets/js/main.4c4a3b8a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/emu_8086/"><div class="navbar__logo"><img src="/emu_8086/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/emu_8086/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">My Site</b></a><a class="navbar__item navbar__link" href="/emu_8086/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/emu_8086/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Sarath191181208/emu_8086" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/emu_8086/blog/2023/11/2">Support for execution of OR ins</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/emu_8086/blog/2023/11/1">Support for memory, reg addressing for 2 operand instructions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/emu_8086/blog/2023/10/31">🛠️ Refactor and Exec of AND</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/emu_8086/blog/2023/10/30">Support for and instruction compilation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/emu_8086/blog/2023/10/29">🛠️ Refactor: moved common logic into a pattern</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Changes this day :"><header><h1 class="title_f1Hy" itemprop="headline">Support for memory, reg addressing for 2 operand instructions</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-11-01T00:00:00.000Z" itemprop="datePublished">November 1, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/Sarath191181208" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/74459981?v=4" alt="Vangipuram Srinivasa Sarath Chandra" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Sarath191181208" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Vangipuram Srinivasa Sarath Chandra</span></a></div><small class="avatar__subtitle" itemprop="description">Tech enthusiast</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Changes this day :</p><ol><li>Added support for memory addressing for 2 operand instructions</li><li>🐞FIX: <code>MOV</code> mem, ax no compiling</li><li>🐞FIX: <code>ADD</code> ax, mem not compiling</li><li>✨ NEW: +compilation of <code>LEA</code> ins</li><li>✨ NEW: +execution of <code>LEA</code> ins</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-memory-reg-addressing-for-2-operand-instructions">Support for memory, reg addressing for 2 operand instructions<a href="#support-for-memory-reg-addressing-for-2-operand-instructions" class="hash-link" aria-label="Direct link to Support for memory, reg addressing for 2 operand instructions" title="Direct link to Support for memory, reg addressing for 2 operand instructions">​</a></h2><p>This is an example instruction</p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MOV [0x100]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> Bx </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; This was supported</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MOV [BX+SI]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> AX </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; Previously This wasn&#x27;t supported</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fix-mov-mem-ax-no-compiling">🐞FIX: <code>MOV</code> mem, ax no compiling<a href="#fix-mov-mem-ax-no-compiling" class="hash-link" aria-label="Direct link to fix-mov-mem-ax-no-compiling" title="Direct link to fix-mov-mem-ax-no-compiling">​</a></h2><p>The <code>MOV AX, 0x10 + 0x20</code> kind of instructions weren&#x27;t being compiled due to the lexer checking the wrong index for the instruction. This has been fixed in the fowlling way.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                        </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">low_token </span><span class="token operator" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> address_bytes</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">to_vec</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></span><br></span><span class="token-line code-block-removed-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">3</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line code-block-added-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">tokenized_line</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">len</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// MOV AX..DI, var</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fix-add-ax-mem-not-compiling">🐞FIX: <code>ADD</code> ax, mem not compiling<a href="#fix-add-ax-mem-not-compiling" class="hash-link" aria-label="Direct link to fix-add-ax-mem-not-compiling" title="Direct link to fix-add-ax-mem-not-compiling">​</a></h2><p>The <code>ADD AX, [0x100]</code> kind of instructions weren&#x27;t being compiled due to the lexer checking the wrong index for the instruction. This has been fixed in the fowlling way.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                        </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">low_token </span><span class="token operator" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> address_bytes</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">to_vec</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></span><br></span><span class="token-line code-block-removed-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">3</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line code-block-added-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">tokenized_line</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">len</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ADD AX..DI, var</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-new-compilation-of-lea-ins">✨ NEW: +compilation of <code>LEA</code> ins<a href="#-new-compilation-of-lea-ins" class="hash-link" aria-label="Direct link to -new-compilation-of-lea-ins" title="Direct link to -new-compilation-of-lea-ins">​</a></h2><p>The <code>LEA</code> instruction is used to load the effective address of the source operand into the destination operand. This instruction is used to put the offset address of the source operand in the destination operand. The destination operand is always a register, and the source operand is always a memory operand. The source operand specifies the address of the data. The LEA instruction is useful for accessing table data and executing table lookup operations.</p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LEA AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [0x100] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = 0x100</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LEA AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = BX + SI</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LEA AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x100] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = BX + SI + 0x100</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LEA AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x100+0x200] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = BX + SI + 0x100 + 0x200</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-new-execution-of-lea-ins">✨ NEW: +execution of <code>LEA</code> ins<a href="#-new-execution-of-lea-ins" class="hash-link" aria-label="Direct link to -new-execution-of-lea-ins" title="Direct link to -new-execution-of-lea-ins">​</a></h2><p>The algorithm for the execution of the <code>LEA</code> instruction is as follows:</p><ol><li>Fetch the instruction.</li><li>Decode the instruction to determine the addressing mode of the source operand.</li><li>Calculate the effective address of the source operand.</li><li>Load the effective address into the destination register.</li><li>Store the result in the destination register.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-new-compilation-of-les-ins">✨ NEW: +compilation of <code>LES</code> ins<a href="#-new-compilation-of-les-ins" class="hash-link" aria-label="Direct link to -new-compilation-of-les-ins" title="Direct link to -new-compilation-of-les-ins">​</a></h2><p>The <code>LES</code> instruction is used to load double word register pair with a far pointer. The <code>LES</code> instruction is used to load the segment register and the offset into the destination register pair. The destination operand is always a register, and the source operand is always a memory operand. The source operand specifies the address of the data. The <code>LES</code> instruction is useful for accessing table data and executing table lookup operations.</p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LES AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [0x100] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = [0x100], ES = [0x102]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LES AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = [BX + SI], ES = [BX + SI + 0x2]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LES AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x100] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = [BX + SI + 0x100 ] , ES = [BX + SI + 0x102]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#403f53"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LES AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x100+0x200] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; AX = [BX + SI + 0x100 + 0x200], ES = [BX + SI + 0x302]</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-new-execution-of-les-ins">✨ NEW: +execution of <code>LES</code> ins<a href="#-new-execution-of-les-ins" class="hash-link" aria-label="Direct link to -new-execution-of-les-ins" title="Direct link to -new-execution-of-les-ins">​</a></h2><p>The algorithm for the execution of the <code>LES</code> instruction is as follows:</p><ol><li>Fetch the instruction.</li><li>Decode the instruction to determine the addressing mode of the source operand.</li><li>Calculate the effective address of the source operand.</li><li>Load the effective address into the destination register.</li><li>Store the result in the destination register.</li><li>Load the effective address + 2 into the extra segment register.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilation-of-or-ins">Compilation of <code>OR</code> ins<a href="#compilation-of-or-ins" class="hash-link" aria-label="Direct link to compilation-of-or-ins" title="Direct link to compilation-of-or-ins">​</a></h2><p>It is used to perform bitwise or operation on the operands the result is stored in the first operand.</p><table><thead><tr><th>Operand</th><th>Opcode</th><th>Size(bytes)</th><th>Example instruction</th></tr></thead><tbody><tr><td>reg16, indirect mem</td><td>11<!-- --> 0x00..=0x3F</td><td>2</td><td>OR AX, [BX]</td></tr><tr><td>reg16, direct mem</td><td>11<!-- --> <!-- -->0x06 | reg_idx &lt;&lt; 3</td><td>4</td><td>OR DX, [0x100]</td></tr><tr><td>reg16, indirect mem with 8bit offset</td><td>11<!-- --> 0x40..=0x7F 0x00..=0xFF</td><td>3</td><td>OR AX, [BX+0x10]</td></tr><tr><td>reg16, indirect mem with 16bit offset</td><td>11<!-- --> 0x80..=0xBF 0x00..=0xFF</td><td>4</td><td>OR AX, [BX+0x100]</td></tr><tr><td>reg16, reg16</td><td>11<!-- --> 0xC0..=0xFF</td><td>2</td><td>OR AX, BX</td></tr><tr><td>reg8, indirect mem</td><td>10<!-- --> 0x00..=0x3F</td><td>2</td><td>OR AL, [BX]</td></tr><tr><td>reg8, direct mem</td><td>10<!-- --> <!-- -->0x06 | reg_idx &lt;&lt; 3</td><td>4</td><td>OR CL, [0x100]</td></tr><tr><td>reg8, indirect mem with 8bit offset</td><td>10<!-- --> 0x40..=0x7F 0x00..=0xFF</td><td>3</td><td>OR AL, [BX+0x10]</td></tr><tr><td>reg8, indirect mem with 16bit offset</td><td>10<!-- --> 0x80..=0xBF 0x00..=0xFF</td><td>4</td><td>OR AL, [BX+0x100]</td></tr><tr><td>reg8, reg8</td><td>10<!-- --> 0xC0..=0xFF</td><td>2</td><td>OR AL, BL</td></tr><tr><td>indirect mem, reg 16</td><td>9<!-- --> 0x00..=0x3F</td><td>2</td><td>OR [BX+SI], AX</td></tr><tr><td>direct mem, reg 16</td><td>9<!-- --> <!-- -->0x06 | reg_idx &lt;&lt; 3</td><td>4</td><td>OR [0x100], BP</td></tr><tr><td>indirect mem with 8bit offset, reg 16</td><td>9<!-- --> 0x40..=0x7F 0x00..=0xFF</td><td>3</td><td>OR [BX+SI+0x10], CX</td></tr><tr><td>indirect mem with 16bit offset, reg 16</td><td>9<!-- --> 0x80..=0xBF 0x00..=0xFF</td><td>4</td><td>OR [BX+SI+0x100], DX</td></tr><tr><td>direct mem, reg 8</td><td>8<!-- --> <!-- -->0x06 | reg_idx &lt;&lt; 3</td><td>4</td><td>OR [0x100], AL</td></tr><tr><td>AL, num</td><td>12<!-- --> 0x00..=0xFF 0x00..=0xFF</td><td>2</td><td>OR AL, 0x10</td></tr><tr><td>AX, num</td><td>13<!-- --> 0x00..=0xFF 0x00..=0xFF</td><td>3</td><td>OR AX, 0x100</td></tr><tr><td>reg16, num16</td><td>129<!-- --> <!-- -->200<!-- -->+reg_idx 0x00..=0xFF 0x00..=0xFF</td><td>3</td><td>OR DX, 0x100</td></tr><tr><td>reg16, num8</td><td>131<!-- --> <!-- -->200<!-- -->+reg_idx 0x00..=0xFF</td><td>2</td><td>OR CX, 0x10</td></tr><tr><td>reg8, num</td><td>128<!-- --> <!-- -->200<!-- -->+reg_idx 0x00..=0xFF</td><td>2</td><td>OR AL, 0x10</td></tr><tr><td>direct address, num16</td><td>129<!-- --> <!-- -->14<!-- -->+reg_idx<!-- --> <!-- -->[0x00..=0xFF 0x00..=0xFF] 0x00..=0xFF 0x00..=0xFF</td><td>6</td><td>OR [0x100], 0x100</td></tr><tr><td>direct address, num8</td><td>129<!-- --> <!-- -->14<!-- -->+reg_idx<!-- --> <!-- -->[0x00..=0xFF 0x00..=0xFF] 0x00..=0xFF<!-- --> </td><td>5</td><td>OR [0x100], 0x10</td></tr><tr><td>addr8, num</td><td>128<!-- --> <!-- -->14<!-- -->+reg_idx [0x00..=0xFF 0x00..=0xFF] 0x00..=0xFF</td><td>2</td><td>OR b.[0x100], 0x10</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col margin-top--sm"><a href="https://github.com/Sarath191181208/emu_8086/tree/main/docusaurus/blog/2023-11-1.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/emu_8086/blog/2023/11/2"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Support for execution of OR ins</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/emu_8086/blog/2023/10/31"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">🛠️ Refactor and Exec of AND</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#support-for-memory-reg-addressing-for-2-operand-instructions" class="table-of-contents__link toc-highlight">Support for memory, reg addressing for 2 operand instructions</a></li><li><a href="#fix-mov-mem-ax-no-compiling" class="table-of-contents__link toc-highlight">🐞FIX: <code>MOV</code> mem, ax no compiling</a></li><li><a href="#fix-add-ax-mem-not-compiling" class="table-of-contents__link toc-highlight">🐞FIX: <code>ADD</code> ax, mem not compiling</a></li><li><a href="#-new-compilation-of-lea-ins" class="table-of-contents__link toc-highlight">✨ NEW: +compilation of <code>LEA</code> ins</a></li><li><a href="#-new-execution-of-lea-ins" class="table-of-contents__link toc-highlight">✨ NEW: +execution of <code>LEA</code> ins</a></li><li><a href="#-new-compilation-of-les-ins" class="table-of-contents__link toc-highlight">✨ NEW: +compilation of <code>LES</code> ins</a></li><li><a href="#-new-execution-of-les-ins" class="table-of-contents__link toc-highlight">✨ NEW: +execution of <code>LES</code> ins</a></li><li><a href="#compilation-of-or-ins" class="table-of-contents__link toc-highlight">Compilation of <code>OR</code> ins</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/emu_8086/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/emu_8086/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Sarath191181208/emu_8086" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/emu_8086/assets/js/runtime~main.f92540bb.js"></script>
<script src="/emu_8086/assets/js/main.4c4a3b8a.js"></script>
</body>
</html>