<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Sarath191181208.github.io/emu_8086/blog</id>
    <title>My Site Blog</title>
    <updated>2023-10-31T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Sarath191181208.github.io/emu_8086/blog"/>
    <subtitle>My Site Blog</subtitle>
    <icon>https://Sarath191181208.github.io/emu_8086/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[ðŸ› ï¸ Refactor of common parsing while exec of reg as first ins]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/31/</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/31/"/>
        <updated>2023-10-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The logic of register as first instruction is always similar for example]]></summary>
        <content type="html"><![CDATA[<p>The logic of register as first instruction is always similar for example
<code>TEST AX, BX</code> -&gt; bytes <!-- -->[ 0x85, 0xD8 ]<!-- -->, <code>ADD AX, BX</code> -&gt; bytes <!-- -->[ 0x01, 0xD8 ]<!-- --> and so on.
while exec 0xD8 is always the register for instructions. Therefore, the logic of parsing the register is common for all the instructions. So, I have refactored the code to make it more readable and maintainable.
The new functions are </p><ul><li><code>consume_bytes_and_parse_8bit_reg_as_first_arg_double_ins</code></li><li><code>consume_bytes_and_parse_16bit_reg_as_first_arg_double_ins</code></li></ul><p>The functions are used in the fowlling ways </p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// For 16bit registers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">consume_bytes_and_parse_16bit_reg_as_first_arg_double_ins</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    mem</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(153, 76, 195)">|</span><span class="token closure-params">cpu</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">mut</span><span class="token closure-params"> </span><span class="token closure-params constant" style="color:rgb(72, 118, 214)">CPU</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token closure-params"> val1</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">u16</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token closure-params"> val2</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">u16</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(153, 76, 195)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token keyword" style="color:rgb(12, 150, 155)">u16</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> val1 </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> val2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        cpu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">set_test_ins_flags_from_16bit_res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// For 8bit registers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> exec_fn </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(153, 76, 195)">|</span><span class="token closure-params">cpu</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">mut</span><span class="token closure-params"> </span><span class="token closure-params constant" style="color:rgb(72, 118, 214)">CPU</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token closure-params"> val1</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">u8</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token closure-params"> val2</span><span class="token closure-params punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token closure-params"> </span><span class="token closure-params keyword" style="color:rgb(12, 150, 155)">u8</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(153, 76, 195)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token keyword" style="color:rgb(12, 150, 155)">u8</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> val1 </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> val2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    cpu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">set_test_ins_flags_from_8bit_res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">consume_bytes_and_parse_8bit_reg_as_first_arg_double_ins</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">mem</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> exec_fn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Support for and instruction compilation]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/30/</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/30/"/>
        <updated>2023-10-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The AND instruction is now compiled and working. The AND instruction is a bitwise AND operation. The AND instruction is used to perform a bitwise AND operation between the first source operand (register or memory location) and the second source operand (register or memory location) and store the result in the destination operand (register or memory location). The AND instruction affects the CF and OF flags when the second operand is an immediate value. The SF, ZF, and PF flags are always set according to the result. The state of the AF flag is undefined.]]></summary>
        <content type="html"><![CDATA[<p>The <code>AND</code> instruction is now compiled and working. The <code>AND</code> instruction is a bitwise AND operation. The <code>AND</code> instruction is used to perform a bitwise AND operation between the first source operand (register or memory location) and the second source operand (register or memory location) and store the result in the destination operand (register or memory location). The <code>AND</code> instruction affects the CF and OF flags when the second operand is an immediate value. The SF, ZF, and PF flags are always set according to the result. The state of the AF flag is undefined.
The compilation table of the <code>AND</code> instruction is as follows:</p><table><thead><tr><th align="center">Operand</th><th align="center">Opcode</th><th align="center">Size(bytes)</th><th align="center">Description</th><th>Example instruction</th></tr></thead><tbody><tr><td align="center">reg16, reg16</td><td align="center">0x21</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AX, BX</td></tr><tr><td align="center">reg8, reg8</td><td align="center">0x20</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AL, BL</td></tr><tr><td align="center">reg16, mem16</td><td align="center">0x23</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AX, <!-- -->[BX]</td></tr><tr><td align="center">reg8, mem8</td><td align="center">0x22</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AL, <!-- -->[BX]</td></tr><tr><td align="center">mem16, reg16</td><td align="center">0x23</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND <!-- -->[BX]<!-- -->, AX</td></tr><tr><td align="center">mem8, reg8</td><td align="center">0x22</td><td align="center">2</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND <!-- -->[BX]<!-- -->, AL</td></tr><tr><td align="center">reg16, imm16</td><td align="center">0x81 0x20</td><td align="center">3</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AX, 0x0001</td></tr><tr><td align="center">reg8, imm8</td><td align="center">0x80 0x20</td><td align="center">3</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND AL, 0x01</td></tr><tr><td align="center">mem16, imm16</td><td align="center">0x81 0x20</td><td align="center">3</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND <!-- -->[BX]<!-- -->, 0x0001</td></tr><tr><td align="center">mem8, imm8</td><td align="center">0x80 0x20</td><td align="center">3</td><td align="center">Performs bitwise AND operation between the two operands and stores the result in the first operand</td><td>AND <!-- -->[BX]<!-- -->, 0x01</td></tr></tbody></table>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ› ï¸ Refactor: moved common logic into a pattern]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/29/</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/29/"/>
        <updated>2023-10-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[For instruction like TEST, AND, MOV, ADD ... etc. All of these follow a single pattern for their compliation step example]]></summary>
        <content type="html"><![CDATA[<p>For instruction like <code>TEST</code>, <code>AND</code>, <code>MOV</code>, <code>ADD</code> ... etc. All of these follow a single pattern for their compliation step example </p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">MOV AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> BX </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x8B 0xC3 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">TEST AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> BX </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x85 0xC3 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MOV AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x8B 0x07</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">TEST AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x85 0x07</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MOV AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x8B 0x00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">TEST AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x85 0x00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MOV AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x1234] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x8B 0x84 0x34 0x12</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">TEST AX</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> [BX+SI+0x1234] </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; 0x85 0x84 0x34 0x12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here 0x8B is the root ins (or) in other words MOV and 0xC3 represents the registers.
All of these instructions fowllow this pattern therefore the logic is sent into a sperate file called <code>src-tauri\src\compiler\parsers\pattern_extractors\compile_first_ins_reg_pattern.rs</code> and the functions are as follows </p><ul><li><code>parse_8bitreg_first_addr_mode</code></li><li><code>parse_16bitreg_first_addr_mode</code></li></ul>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Blog CI + Indiviaual Byte/Word Indexing work]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/28/</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/28/"/>
        <updated>2023-10-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Blog CI]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="blog-ci">Blog CI<a href="#blog-ci" class="hash-link" aria-label="Direct link to Blog CI" title="Direct link to Blog CI">â€‹</a></h2><p>Made the <code>docusaurus</code> compile in the CI/CD pipeline of github actions and made the <code>docusaurus</code> build and deploy to the <code>gh-pages</code> branch of the repository. The <code>gh-pages</code> branch is used to host the website on github pages.
The website is hosted at <a href="https://sarath191181208.github.io/" target="_blank" rel="noopener noreferrer">https://sarath191181208.github.io/</a>
Issues faced:</p><ol><li>The docusaurus build was working, but the blog dates were wrong this is due to the fact that we are using DD-MM-YYYY format in the blog posts and the docusaurus is parsing these dates as UTC+5:30(my local timezone) and converting it into UTC+00:00 This resulted in blogs having 1-day offset errors. This can be fixed by using the YYYY-MM-DD format which the docusaurus treats it as UTC+00:00 format thus not messing up the dates.</li><li>The github workflow file was having the publish_dir as <code>./build</code> it was actually <code>./docusaurus/build</code>, we are using working-directory in the yml but it isn't picked up by the action of actions-gh-pages. This was fixed by changing the publish_dir to <code>./docusaurus/build</code></li></ol><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token key atrule">defaults</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">working-directory</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ./docusaurus</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">########################</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">#### workflow config ###</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">########################</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">gh</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">pages@v3</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">github_token</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line code-block-removed-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">publish_dir</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ./build</span><br></span><span class="token-line code-block-added-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">publish_dir</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ./docusaurus/build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="individual-byteword-indexing">Individual Byte/Word Indexing<a href="#individual-byteword-indexing" class="hash-link" aria-label="Direct link to Individual Byte/Word Indexing" title="Direct link to Individual Byte/Word Indexing">â€‹</a></h2><p>The syntax like using <code>w.[]</code> and <code>b.[]</code> are now working. We can use of the fowlling syntax to make the fowlling work.</p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">ORG 100h</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">.DATA</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  var dw 0x100</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">CODE</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  MOV w.[var]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> 0x10 </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; moves 0x0010 -&gt; [var]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  MOV b.[var]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> 0x10 </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; moves 0x10   -&gt; [var]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilation-of-test-instruction">Compilation of TEST instruction<a href="#compilation-of-test-instruction" class="hash-link" aria-label="Direct link to Compilation of TEST instruction" title="Direct link to Compilation of TEST instruction">â€‹</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>What the differnet texts mean in opcode</div><div class="admonitionContent_S0QG"><ul><li><p><code>[0x00 0x10]</code> means that these bytes are derived from memory and address 0x100 is used.</p></li><li><p><code>u8</code> means that the byte is derived from the immediate value and has 1byte as size.</p></li><li><p><code>u16</code> means that the word is derived from the immediate value and has 2bytes as size.</p></li><li><p><code>i8</code> means that the byte is derived from the immediate value is signed and has 1byte size.</p></li><li><p><code>i16</code> means that the word is derived from the immediate value is signed and has 2byte size.</p></li><li><p><code>0x00..0xFF</code> means that these bytes are derived from the instructions/registers.</p></li><li><p><code>reg16</code> means that the register is 16-bit. Ex: <code>AX</code>, <code>BX</code>, <code>CX</code>, <code>DX</code>, <code>SP</code>, <code>BP</code>, <code>SI</code>, <code>DI</code></p></li><li><p><code>reg8</code> means that the register is 8-bit. Ex: <code>AL</code>, <code>BL</code>, <code>CL</code>, <code>DL</code>, <code>AH</code>, <code>BH</code>, <code>CH</code>, <code>DH</code></p></li><li><p><code>var16</code> means that the variable is 16-bit. Ex: <code>var dw 0x100</code> or <code>w.[0x100]</code></p></li><li><p><code>var8</code> means that the variable is 8-bit. Ex: <code>var db 0x100</code> or <code>b.[0x100]</code></p></li><li><p><code>idx16</code> means that the index is 16-bit. Ex: <code>w.[BX]</code> or <code>w.[SI]</code> or <code>w.[DI]</code></p></li><li><p><code>idx8</code> means that the index is 8-bit. Ex: <code>b.[BX]</code> or <code>b.[SI]</code> or <code>b.[DI]</code></p></li></ul></div></div><p>The <code>TEST</code> instruction is now compiled and working. The <code>TEST</code> instruction is used to perform bitwise AND operation on the operands and set the flags accordingly. The <code>TEST</code> instruction is compiled into the following code.</p><table><thead><tr><th align="center">Operand</th><th align="center">Opcode</th><th align="center">Size(bytes)</th><th align="center">Description</th><th>Example instruction</th></tr></thead><tbody><tr><td align="center">reg16, reg16</td><td align="center">0x85 0xC0..0xFF</td><td align="center">2</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, BX</code></td></tr><tr><td align="center">reg8, reg8</td><td align="center">0x84 0xC0..0xFF</td><td align="center">2</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AL, BL</code></td></tr><tr><td align="center">AX, imm16</td><td align="center">0xA9 0xC0..0xFF</td><td align="center">3</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, 0x10</code></td></tr><tr><td align="center">AL, imm8</td><td align="center">0xA8 0xC0..0xFF</td><td align="center">2</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AL, 0x10</code></td></tr><tr><td align="center">reg16, imm16/imm8</td><td align="center">0xF7 0xC0..0xFF u16</td><td align="center">4</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, 0x10</code></td></tr><tr><td align="center">reg8, imm8</td><td align="center">0xF6 0xC0..0xFF u8</td><td align="center">3</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AL, 0x10</code></td></tr><tr><td align="center">var16/reg16 , reg16/var16</td><td align="center">0x85 0x06..0x36 <!-- -->[0x02 0x01]</td><td align="center">4</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST [0x100], AX</code></td></tr><tr><td align="center">var8/reg8 , reg8/var8</td><td align="center">0x84 0x06..0x36 <!-- -->[0x02 0x01]</td><td align="center">4</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST [0x100], AL</code></td></tr><tr><td align="center">var16, imm16/imm8</td><td align="center">0xF7 0x06 <!-- -->[0x00 0x10]<!-- --> u16</td><td align="center">6</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST [0x100], 0x10</code></td></tr><tr><td align="center">var8, imm8</td><td align="center">0xF6 0x06 <!-- -->[0x00 0x10]<!-- --> u8</td><td align="center">5</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST [0x100], 0x10</code></td></tr><tr><td align="center">reg16, idx16</td><td align="center">0x85 0x00..0x30</td><td align="center">2</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, [BX]</code></td></tr><tr><td align="center">reg16, idx16+imm8</td><td align="center">0x85 0x40..0x70 i8</td><td align="center">3</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, [BX+0x10]</code></td></tr><tr><td align="center">reg16, idx16+imm16</td><td align="center">0x85 0x80..0xB0 i16</td><td align="center">4</td><td align="center">Performs bitwise AND operation on the operands and set the flags accordingly</td><td><code>TEST AX, [BX+0x1000]</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execution-of-the-test-instruction">Execution of the test instruction<a href="#execution-of-the-test-instruction" class="hash-link" aria-label="Direct link to Execution of the test instruction" title="Direct link to Execution of the test instruction">â€‹</a></h2><p>Made the <code>TEST</code> instruction execute and set the flags accordingly. The result isn't stored anywhere, only the flags are chaged.
Algorithm</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// For 16-bit operands</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> op1 </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> op2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">carry_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">overflow_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">zero_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">negative_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0x8000</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">pairity_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">count_ones</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// For 8-bit operands</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> op1 </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> op2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">carry_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">overflow_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">zero_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">negative_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0x80</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">pairity_flag </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">count_ones</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-deprecation-of-functions">Testing deprecation of functions<a href="#testing-deprecation-of-functions" class="hash-link" aria-label="Direct link to Testing deprecation of functions" title="Direct link to Testing deprecation of functions">â€‹</a></h2><p>Some of the old functions which don't use best practices are deprecated and the new functions are used.
The functions which are deprecated are:</p><ul><li><code>generate_test</code> macro</li><li><code>generate_test_with_cycles</code> macro </li><li><code>compile_and_test_str</code> function</li></ul><p>In favour of these convoluted function a new api is created for testing. It is both easy and simple to use. The new api is as follows:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> code </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">"MOV AX, BX"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> num_cycles </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">run_code</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">code</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> num_cycles</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ› ï¸ Refactor]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/27/ Refactor</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/27/ Refactor"/>
        <updated>2023-10-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ðŸ› ï¸ Refactor conditional check of variable type into the evaluate_ins function And added ByteIndexedAddressing in Assembly8086Tokens]]></summary>
        <content type="html"><![CDATA[<p>ðŸ› ï¸ Refactor conditional check of variable type into the evaluate_ins function And added ByteIndexedAddressing in Assembly8086Tokens</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="refactor-conditional-check">Refactor conditional check<a href="#refactor-conditional-check" class="hash-link" aria-label="Direct link to Refactor conditional check" title="Direct link to Refactor conditional check">â€‹</a></h2><ul><li>Refactored conditional check of variable type into the evaluate_ins function
The code base was having this type of conditional checks for checking if the variable type is defined as Word (or) as byte
The fowlling is the example of what I am talking about:</li></ul><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ./src-tauri/src/compiler/parsers/mov.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> mov_ins </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">is_variable_defined_as_16bit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">variable_abs_offset_map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">get_token_as_label</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">high_token</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token number" style="color:rgb(170, 9, 130)">0xC7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token number" style="color:rgb(170, 9, 130)">0xC6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a repetative logic and we can mess up quite easily therefore we have refactored this into the evaluate_ins function the following is the example of the same:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ./src-tauri/src/compiler/parsers/pattern_extractors/utils.rs 181:5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> var_type </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> variable_abs_address_map</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">get</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">label</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">unwrap_or</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">VariableType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Word</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">variable_type </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">var_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-parsing-chracter-in-parse-fn-and-moved-it-into-evaluate-ins">Removal of parsing chracter in parse fn and moved it into evaluate ins<a href="#removal-of-parsing-chracter-in-parse-fn-and-moved-it-into-evaluate-ins" class="hash-link" aria-label="Direct link to Removal of parsing chracter in parse fn and moved it into evaluate ins" title="Direct link to Removal of parsing chracter in parse fn and moved it into evaluate ins">â€‹</a></h2><p>The <code>parse_two_arguments_line</code> was incharge of handing the substitution of variables and labels into their respective addresses and values. This intrun created a lot of duplicated logic and was getting hard to maintain. Thus, this logic has now been moved into the <code>evaluate_ins</code> function which is now incharge of handlig the substitution of variables and labels into their respective addresses and values.</p><p>This is what the <code>parse_two_arguments_line</code> was doing before: </p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">match</span><span class="token plain"> high_token</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">match</span><span class="token plain"> low_token</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token class-name" style="color:rgb(17, 17, 17)">Assembly8086Tokens</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Character</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">label</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> addr_bytes_or_num </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">get_label_address_or_push_into_ref</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token keyword" style="color:rgb(12, 150, 155)">match</span><span class="token plain"> addr_bytes_or_num</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                bytes </span><span class="token operator" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">AddressingMode</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">RegisterAndAddress</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                num </span><span class="token operator" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">AddressingMode</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Registers16bitNumber</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This logic has now been converted into the <code>evaluate_ins</code> fn where it is already being done.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="addition-of-byteindexedaddressing-in-assembly8086tokens">Addition of ByteIndexedAddressing in Assembly8086Tokens<a href="#addition-of-byteindexedaddressing-in-assembly8086tokens" class="hash-link" aria-label="Direct link to Addition of ByteIndexedAddressing in Assembly8086Tokens" title="Direct link to Addition of ByteIndexedAddressing in Assembly8086Tokens">â€‹</a></h2><p>I have recently known that there exists ByteIndexedAddressing in the 8086 processor, it is a mode where you can change/access byte of the memory like when defining the variable as byte. You can also do this in a differnent way therefore to merge all of the uses into a sinlge entity to represent and match easily I have added ByteIndexedAddressing in Assembly8086Tokens. The following is the example of the same:</p><p>My discovery: </p><div class="language-asm6502 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asm6502 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">MOV b.[BX]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> 0x0A </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; moves 0x0A into the byte of the memory pointed by BX</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MOV w.[BX]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> 0x0A </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">; moves 0x00_0A into the word of the memory pointed by BX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As this is the case to represent both <code>b.[BX]</code> and <code>var db</code> I have added ByteIndexedAddressing in Assembly8086Tokens.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-doc--setup-github-actions-to-automatically-deploy-docs">ðŸ“– DOC:  Setup github actions to automatically deploy docs<a href="#-doc--setup-github-actions-to-automatically-deploy-docs" class="hash-link" aria-label="Direct link to ðŸ“– DOC:  Setup github actions to automatically deploy docs" title="Direct link to ðŸ“– DOC:  Setup github actions to automatically deploy docs">â€‹</a></h2><p>From <a href="https://docusaurus.io/docs/deployment#deploying-to-github-pages" target="_blank" rel="noopener noreferrer">Docusaurus</a> docs:
We have setup a github actions script that looks like this </p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Build Docs</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token key atrule">defaults</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">working-directory</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ./docusaurus</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token key atrule">on</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">push</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">branches</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">"main"</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">paths</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">"docusaurus/**"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">pull_request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">branches</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">"main"</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">paths</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">"docusaurus/**"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token key atrule">permissions</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">contents</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token key atrule">jobs</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key atrule">deploy</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">          </span><span class="token key atrule">node-version</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">          </span><span class="token key atrule">cache</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> npm </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token key atrule">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> npm ci</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Build</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token key atrule">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> npm run build</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">gh</span><span class="token punctuation" style="color:rgb(153, 76, 195)">-</span><span class="token plain">pages@v3</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token key atrule">github_token</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token key atrule">publish_dir</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> ./build</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token key atrule">user_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Sarath19181208</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">bot</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token key atrule">user_email</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> vssarathc04+gh_bot_emu8086@gmail.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To make automatically deploy docs to github pages on every push to main branch.</p>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pop Support]]></title>
        <id>https://Sarath191181208.github.io/emu_8086/blog/2023/10/26/ Added POP support</id>
        <link href="https://Sarath191181208.github.io/emu_8086/blog/2023/10/26/ Added POP support"/>
        <updated>2023-10-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Compilation of the pop instruction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilation-of-the-pop-instruction">Compilation of the pop instruction<a href="#compilation-of-the-pop-instruction" class="hash-link" aria-label="Direct link to Compilation of the pop instruction" title="Direct link to Compilation of the pop instruction">â€‹</a></h2><table><thead><tr><th align="center">Operand</th><th align="center">Opcode</th><th align="center">Description</th><th align="center">Example instruction</th></tr></thead><tbody><tr><td align="center">reg16</td><td align="center">0x58+rw</td><td align="center">Pop top of stack into reg16</td><td align="center"><code>pop ax</code></td></tr><tr><td align="center">mem16</td><td align="center">0x8F 0x06 16BIT-addr</td><td align="center">Pop top of stack into mem16</td><td align="center"><code>pop [0x0100]</code></td></tr><tr><td align="center">indexed with no offset</td><td align="center">0x8F 0x00..0x07</td><td align="center">Pop top of stack into index given by regs</td><td align="center"><code>pop [bx+si]</code></td></tr><tr><td align="center">indexed with byte offset</td><td align="center">0x8F 0x40..0x47 16bit-addr</td><td align="center">Pop top of stack into index given by regs + byte offset</td><td align="center"><code>pop [bx+0x01]</code></td></tr><tr><td align="center">indexed with word offset</td><td align="center">0x8F 0x80..0x87 16bit-addr</td><td align="center">Pop top of stack into index given by regs + word offset</td><td align="center"><code>pop [bx+0x0100]</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execution-of-the-pop-instruction">Execution of the pop instruction<a href="#execution-of-the-pop-instruction" class="hash-link" aria-label="Direct link to Execution of the pop instruction" title="Direct link to Execution of the pop instruction">â€‹</a></h2><p>Made the <code>pop</code> instruction execution working.
Addressing modes of the <code>pop</code> instruction implemented are:</p><ul><li>Register addressing mode, ex - <code>pop ax</code></li><li>Direct addressing mode, ex - <code>pop [0x1234]</code></li><li>Variable addressing mode, ex - <code>pop [var]</code></li><li>Indirect addressing mode, ex - <code>pop [bx]</code></li><li>Indexed addressing mode, ex - <code>pop [bx+si]</code></li></ul><p>Algorithm:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">operand = SS:[SP] (top of the stack)</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">SP = SP + 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Vangipuram Srinivasa Sarath Chandra</name>
            <uri>https://github.com/Sarath191181208</uri>
        </author>
    </entry>
</feed>